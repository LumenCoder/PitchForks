<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cafe Pitchforks</title>
  <style>
    /* Base Styles */
    body {
      margin: 0;
      font-family: 'Helvetica Neue', Arial, sans-serif;
      background-color: #fff;
      color: #333;
      overflow-x: hidden;
      transition: background-color 0.5s ease;
    }
    /* Header Styling */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #000;
      padding: 10px 20px;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
    }
    header .logo {
      width: 80px;
      height: auto;
    }
    header nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
    }
    header nav ul li {
      margin-left: 20px;
    }
    header nav ul li a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }
    /* Hero Section */
    .hero {
      text-align: center;
      padding: 120px 20px 100px; /* extra top padding due to fixed header */
      background: #e60000; /* default red */
      color: #fff;
      transition: background 0.5s ease;
      position: relative;
    }
    .hero h1 {
      margin: 0;
      font-size: 3rem;
      letter-spacing: 2px;
    }
    .hero p {
      font-size: 1.2rem;
      margin-top: 10px;
    }
    /* Store Status (Countdown) - Constant Scale */
    #storeStatus {
      margin-top: 20px;
      font-size: 1.2rem;
      padding: 10px 20px;
      display: inline-block;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 5px;
    }
    /* Products Section with Glass Background */
    .products-section {
      position: relative;
      padding: 50px 20px 80px; /* extra bottom padding for spacing */
      background: transparent;
      min-height: 100vh;
      overflow: visible;
    }
    .products-section h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #e60000;
      font-size: 2rem;
      position: relative;
      z-index: 1;
    }
    .products {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      position: relative;
      z-index: 1;
    }
    /* Glass Animated Background Behind Products */
    .glass-bg {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, rgba(255,255,255,0.3), rgba(230, 0, 0, 0.3));
      backdrop-filter: blur(15px);
      z-index: 0;
      animation: fluidBackground 10s linear infinite;
    }
    @keyframes fluidBackground {
      0% {
        background: linear-gradient(45deg, rgba(255,255,255,0.3), rgba(230, 0, 0, 0.3));
      }
      50% {
        background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(0,0,0,0.3));
      }
      100% {
        background: linear-gradient(45deg, rgba(255,255,255,0.3), rgba(230, 0, 0, 0.3));
      }
    }
    /* Product Cards */
    .product-card {
      position: relative;
      width: 300px;
      border: 2px solid #000;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease;
      opacity: 0;
      transform: translateY(50px);
    }
    .product-card img {
      width: 100%;
      display: block;
      transition: transform 0.3s ease;
    }
    .product-card:hover img {
      transform: scale(1.1);
    }
    /* Overlay effect on product card */
    .overlay {
      position: absolute;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      width: 100%;
      transform: translateY(100%);
      transition: transform 0.4s ease;
      padding: 20px;
      box-sizing: border-box;
    }
    .product-card:hover .overlay {
      transform: translateY(0);
    }
    .product-card.visible {
      opacity: 1;
      transform: translateY(0);
    }
    /* Footer */
    footer {
      text-align: center;
      padding: 20px;
      background: #000;
      color: #fff;
      font-size: 0.9em;
    }
    /* Modal Styling */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right:0;
      bottom:0;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    .modal-overlay.active {
      display: flex;
    }
    .modal {
      background: #fff;
      border-radius: 8px;
      max-width: 500px;
      padding: 20px;
      width: 90%;
      position: relative;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .modal h3 {
      margin-top: 0;
      color: #e60000;
    }
    .modal ul {
      list-style: none;
      padding: 0;
    }
    .modal ul li {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    .modal .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
    }
    /* Styling for when store is open (hero background changes) */
    body.store-open .hero {
      background: #28a745; /* green hue for open state */
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <!-- Replace with your logo link -->
    <img src="https://i.imgur.com/leA2QfL.gif" alt="Pitchforks Logo" class="logo">
    <nav>
      <ul>
        <li><a href="#products">Our Menu</a></li>
      </ul>
    </nav>
  </header>

  <!-- Hero Section with Store Status -->
  <section class="hero">
    <h1>Welcome to Cafe Pitchforks</h1>
    <p>Experience the unique blend of taste and style.</p>
    <div id="storeStatus">Loading status...</div>
  </section>

  <!-- Products Section with Animated Glass Background -->
  <section id="products" class="products-section">
    <div class="glass-bg"></div>
    <h2>Our Menu</h2>
    <div class="products" id="productContainer">
      <!-- Dynamic product cards will be inserted here -->
    </div>
  </section>

  <!-- Modal for In-depth Product Details -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <button class="close-btn" id="modalClose">&times;</button>
      <h3 id="modalTitle">Product Details</h3>
      <p id="modalDescription"></p>
      <h4 id="variationsTitle" style="display:none;">Available Options:</h4>
      <ul id="modalVariations"></ul>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Cafe Pitchforks. All rights reserved.</p>
  </footer>

  <script>
    /***** Product Data *****/
    const products = [
      {
        name: "Chips",
        // Direct link to a chips image from Unsplash
        image: "https://png.pngtree.com/png-vector/20241109/ourmid/pngtree-tortilla-chips-and-cheese-sauce-png-image_14302335.png",
        description: "Crunchy and delicious chips.",
        variations: [] // One form
      },
      {
        name: "Hotdog",
        // Link to a tasty hotdog image
        image: "https://voicesofthevoid.wiki.gg/images/8/82/Item_Hotdog_Ingame_Transparent.png?699360",
        description: "Tasty hotdogs with various styles.",
        variations: ["Cheese", "Plain", "Chili Cheese"]
      },
      {
        name: "Cheese Sticks",
        // Link to a cheesy snack image
        image: "https://www.instacart.com/assets/domains/product-image/file/large_0320f9aa-1cb6-4843-aefc-0101aff38e3e.jpg",
        description: "Melting cheese sticks, a savory delight.",
        variations: [] // Single form
      },
      {
        name: "Pretzels",
        // Link to a pretzel image
        image: "https://png.pngtree.com/png-clipart/20241028/original/pngtree-soft-pretzels-with-sesame-seeds-isolated-on-black-background-png-image_16530485.png",
        description: "Soft pretzels available in two forms.",
        variations: ["Salted", "Sugar"]
      },
      {
        name: "Drinks",
        // Link to a variety of drinks image
        image: "https://atlas-content-cdn.pixelsquid.com/stock-images/fresh-soda-can-2J89E66-600.jpg",
        description: "Refreshing drinks to quench your thirst.",
        variations: ["Frozen Baja", "Frozen Lemonade", "Frozen Red", "Baja Blast", "Water", "Coca-Cola", "Pepsi", "Extra Refreshing"]
      }
    ];
    
    /***** Populate Product Cards Dynamically *****/
    const productContainer = document.getElementById('productContainer');
    products.forEach((product, index) => {
      const card = document.createElement('div');
      card.classList.add('product-card');
      card.setAttribute('data-index', index);
      
      card.innerHTML = `
        <img src="${product.image}" alt="${product.name}">
        <div class="overlay">
          <h3>${product.name}</h3>
          <p>${product.variations.length ? product.variations.join(' / ') : 'Single Style'}</p>
        </div>
      `;
      
      // Open modal on click to show detailed info
      card.addEventListener('click', () => openModal(product));
      productContainer.appendChild(card);
    });
    
    /***** Scroll Reveal Animation for Product Cards *****/
    const productCards = document.querySelectorAll('.product-card');
    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.2 };
    const revealOnScroll = (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    };
    const observer = new IntersectionObserver(revealOnScroll, observerOptions);
    productCards.forEach(card => observer.observe(card));
    
    /***** Modal Functionality *****/
    const modalOverlay = document.getElementById('modalOverlay');
    const modalClose = document.getElementById('modalClose');
    const modalTitle = document.getElementById('modalTitle');
    const modalDescription = document.getElementById('modalDescription');
    const modalVariations = document.getElementById('modalVariations');
    const variationsTitle = document.getElementById('variationsTitle');

    function openModal(product) {
      modalTitle.textContent = product.name;
      modalDescription.textContent = product.description;
      modalVariations.innerHTML = '';
      if (product.variations.length) {
        variationsTitle.style.display = 'block';
        product.variations.forEach(variation => {
          const li = document.createElement('li');
          li.textContent = variation;
          modalVariations.appendChild(li);
        });
      } else {
        variationsTitle.style.display = 'none';
      }
      modalOverlay.classList.add('active');
    }
    modalClose.addEventListener('click', () => modalOverlay.classList.remove('active'));
    modalOverlay.addEventListener('click', (e) => { if(e.target === modalOverlay) modalOverlay.classList.remove('active'); });
    
    /***** Store Availability and Countdown *****/
    const storeStatusElem = document.getElementById('storeStatus');
    const openHour = 11, openMinute = 40, closeHour = 14, closeMinute = 0; // 11:40 AM - 2:00 PM
    const availableDays = [2, 3, 4]; // Tuesday (2), Wednesday (3), Thursday (4)

    // Helper: Set a date with a specific hour and minute
    function setTimeForDate(date, hour, minute) {
      const newDate = new Date(date);
      newDate.setHours(hour, minute, 0, 0);
      return newDate;
    }

    // Get next opening date & time
    function getNextOpenDate(now) {
      let today = now.getDay();
      if (availableDays.includes(today)) {
        const openToday = setTimeForDate(now, openHour, openMinute);
        if (now < openToday) return openToday;
      }
      // Otherwise, check the next available day
      for (let i = 1; i <= 7; i++) {
        const candidate = new Date(now.getTime() + i * 24 * 60 * 60 * 1000);
        if (availableDays.includes(candidate.getDay()))
          return setTimeForDate(candidate, openHour, openMinute);
      }
      return null; // fallback
    }

    // Update the store status and countdown timer
    function updateStoreStatus() {
      const now = new Date();
      let statusText = "";
      let countdownTarget;
      let isOpen = false;
      
      if (availableDays.includes(now.getDay())) {
        const openToday = setTimeForDate(now, openHour, openMinute);
        const closeToday = setTimeForDate(now, closeHour, closeMinute);
        if (now < openToday) {
          countdownTarget = openToday;
          statusText = "Store opens in: ";
        } else if (now >= openToday && now < closeToday) {
          countdownTarget = closeToday;
          statusText = "Store is OPEN. Closes in: ";
          isOpen = true;
        } else {
          countdownTarget = getNextOpenDate(now);
          statusText = "Store opens in: ";
        }
      } else {
        countdownTarget = getNextOpenDate(now);
        statusText = "Store opens in: ";
      }
      
      const diff = countdownTarget - now;
      const totalSeconds = Math.floor(diff / 1000);
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      
      const formattedTime = String(hours).padStart(2, '0') + ":" +
                            String(minutes).padStart(2, '0') + ":" +
                            String(seconds).padStart(2, '0');
      
      storeStatusElem.textContent = statusText + formattedTime;
      
      if (isOpen) {
        document.body.classList.add('store-open');
      } else {
        document.body.classList.remove('store-open');
      }
    }
    
    updateStoreStatus();
    setInterval(updateStoreStatus, 1000);
  </script>
</body>
</html>
